@keyframes check {
    50% {
        transform: scale(1.2);
    }
}

.todo-wrapper {
    position: relative;
    width: 100%;
    margin: 0.2em 0;

    input {
        appearance: none;
        border: 0.1em solid $input-border-default-sep2023;
        box-shadow: 0.1em 0.1em 0.4em $border-shadow-sep2023;
    }

    .cbx {
        -webkit-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
        height: 100%;
        width: 100%;
        position: relative;
        display: grid;
        grid-template-columns: 0.5fr 2fr;
        grid-template-rows: 100%;
        grid-template-areas: "tick-box input-field";
        column-gap: 5%;

        span {
            transform: translate3d(0, 0, 0);
            outline: none;
        }

        .tick-box {
            display: grid;
            grid-area: tick-box;
            position: relative;
            background-color: $tick-box-background-sep2023;
            width: 1.5em;
            border-radius: 30%;
            transform: scale(1);
            border: 0.1em solid $input-border-default-sep2023;
            transition: all 0.2s ease;

            svg {
                position: absolute;
                top: 0.2em;
                left: 0.2em;
                z-index: 1;
                width: 80%;
                height: 70%;
                fill: none;
                stroke: white;
                stroke-width: 2;
                stroke-linecap: round;
                stroke-linejoin: round;
                stroke-dasharray: 16px;
                stroke-dashoffset: 16px;
                transition: all 0.3s ease;
                transition-delay: 0.1s;
                transform: translate3d(0, 0, 0);
            }

            &:before {
                content: "";
                width: 100%;
                height: 100%;
                background: $blink-color-sep2023;
                display: block;
                transform: scale(0);
                opacity: 1;
                border-radius: 50%;
                transition-delay: 0.2s;
            }
        }

        .input-box {
            display: grid;
            grid-area: input-field;
            width: 100%;

            &:after {
                content: "";
                position: absolute;
                top: 0.7em;
                left: 0;
                height: 1px;
                width: 100%;
                background: $strike-line-sep2023;
                transform-origin: 0 0;
                transform: scaleX(0);
            }
        }

        .input-field {
            width: 100%;
            height: 100%;
            border-radius: 0.4em;
            color: $font-active-sep2023;
            border: 1.5px solid $input-border-default-sep2023;
            background-color: $input-box-background-sep2023;
            font-family: monospace;

            &:focus {
                outline: none;
            }

            &:focus-visible {
                outline: none;
            }
        }

        &:hover {
            .tick-box {
                border-color: $focus-border-sep2023;
            }

            .input-field {
                border-color: $focus-border-sep2023;
            }
        }
    }
    /*tick-box checked*/
    .tick-box {
        &:checked + .cbx {
            .tick-box {
                border-color: $tick-border-checked-sep2023;
                background: $tick-box-checked-background-sep2023;
                animation: check 0.6s ease;

                svg {
                    stroke-dashoffset: 0;
                }

                &:before {
                    transform: scale(2.2);
                    opacity: 0;
                    transition: all 0.6s ease;
                }
            }

            .input-field {
                border-color: $tick-border-checked-sep2023;
                color: $font-disabled-sep2023;
                background-color: $tick-box-checked-background-sep2023;
                transition: all 0.3s ease;
            }

            .input-box {
                &:after {
                    transform: scaleX(1);
                    transition: all 0.3s ease;
                }
            }
        }
    }
}
